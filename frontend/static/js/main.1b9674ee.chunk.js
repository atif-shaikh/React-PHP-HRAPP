(this.webpackJsonphrapp=this.webpackJsonphrapp||[]).push([[0],{178:function(e,t,a){"use strict";a.r(t);var r,n,c=a(1),s=a.n(c),i=a(23),l=a.n(i),o=(a(86),a(12)),d=a(74),j=a(75),b=a(80),p=a(79),m=a(0),u=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={hasError:!1},r}return Object(j.a)(a,[{key:"render",value:function(){return this.state.hasError?Object(m.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(s.a.Component),h=a(8),O=(a(88),a(4)),x=a(10),f={employees:null!==(r=JSON.parse(localStorage.getItem("employees")))&&void 0!==r?r:[]},N={departments:null!==(n=JSON.parse(localStorage.getItem("departments")))&&void 0!==n?n:[]},v=a(30);function y(e,t){var a=t.type,r=t.payload;switch(a){case"empty":return localStorage.removeItem("employees"),Object(O.a)(Object(O.a)({},e),{},{employees:[]});case"add":var n=Object(O.a)(Object(O.a)({},e),{},{employees:[].concat(Object(v.a)(e.employees),[r])});return localStorage.setItem("employees",JSON.stringify(n.employees)),n;case"update":var c=r,s=e.employees.map((function(e){return e.empNo===c.empNo?c:e})),i=Object(O.a)(Object(O.a)({},e),{},{employees:s});return localStorage.setItem("employees",JSON.stringify(s)),i;case"delete":var l=Object(O.a)(Object(O.a)({},e),{},{employees:e.employees.filter((function(e){return e.empNo!==r}))});return localStorage.setItem("employees",JSON.stringify(l.employees)),l;default:return Object(O.a)(Object(O.a)({},e),{},{employees:r})}}function g(e,t){var a=t.type,r=t.payload;switch(a){case"empty":return console.log("inside Dispastch"),localStorage.removeItem("departments"),Object(O.a)(Object(O.a)({},e),{},{departments:[]});case"add":var n=Object(O.a)(Object(O.a)({},e),{},{departments:[].concat(Object(v.a)(e.departments),[r])});return localStorage.setItem("departments",JSON.stringify(n.departments)),n;case"update":var c=r,s=e.departments.map((function(e){return e.deptNo===c.deptNo?c:e})),i=Object(O.a)(Object(O.a)({},e),{},{departments:s});return localStorage.setItem("departments",JSON.stringify(s)),i;case"delete":var l=Object(O.a)(Object(O.a)({},e),{},{departments:e.departments.filter((function(e){return e.deptNo!==r}))});return localStorage.setItem("departments",JSON.stringify(l.departments)),l;default:return Object(O.a)(Object(O.a)({},e),{},{departments:r})}}function D(e,t){return e.length===t.length&&e.every((function(e,t){return localStorage.getItem(e)}))}function S(){return Object(m.jsx)("div",{className:"lds-container",children:Object(m.jsx)("div",{className:"lds-dual-ring"})})}function T(){return Object(m.jsx)("header",{children:Object(m.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(o.b,{className:"navbar-brand",to:"/",children:"HRAPP"}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{className:"collapse navbar-collapse",children:Object(m.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.c,{className:"nav-link",exact:!0,to:"/",children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.c,{className:"nav-link",to:"/employees",children:"Employees"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.c,{className:"nav-link",exact:!0,to:"/employee/add",children:"Add Employee"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.c,{className:"nav-link",exact:!0,to:"/departments",children:"Departments"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.c,{className:"nav-link",exact:!0,to:"/department/add",children:"Add Department"})})]})})]})})})}function E(){return Object(m.jsx)("nav",{className:"navbar fixed-bottom navbar-expand-sm navbar-dark bg-dark",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"navbar-brand",children:"This site is created for demonstrative purposes only and does not offer any real products or services. \xa9 Atif"})})})}var I=Object(c.createContext)(null),w=function(e){var t=Object(c.useReducer)(y,f),a=Object(x.a)(t,2),r=a[0],n=a[1],s=Object(c.useReducer)(g,N),i=Object(x.a)(s,2),l=i[0],o=i[1],d=function(e,t){var a=t.empDispatch,r=t.deptDispatch,n=Object(c.useRef)([]),s=Object(c.useState)(!0),i=Object(x.a)(s,2),l=i[0],o=i[1],d=Object(c.useState)(null),j=Object(x.a)(d,2),b=j[0],p=j[1];return Object(c.useEffect)((function(){if(console.log("length"+e.length),console.log(D(n.current,e)),e.length&&!D(n.current,e)){n.current=e;var t=e.map((function(e,t){return fetch("http://hrapp.local:8080/api/v1/"+e).then((function(e){if(e.ok)return e.json();throw e}))}));Promise.all(t).then((function(t){return t.map((function(t,n){return console.log(t),"employees"===e[n]?(localStorage.setItem("employees",JSON.stringify(t.data)),a({payload:t.data})):(localStorage.setItem("departments",JSON.stringify(t.data)),r({payload:t.data}))}))})).catch((function(e){console.error(e),p(e)})).finally((function(){return o(!1)}))}else o(!1)}),[e]),{loading:l,error:b}}(["employees","departments"],{empDispatch:n,deptDispatch:o}),j=d.loading,b=d.error,p={empState:r,empDispatch:n,deptState:l,deptDispatch:o};if(b)throw b;return Object(m.jsxs)(I.Provider,{value:p,children:[Object(m.jsx)(T,{}),j?Object(m.jsx)(S,{}):e.children,Object(m.jsx)(E,{})]})};function M(){var e=Object(c.useContext)(I);if(!e)throw new Error("useCart must be used within a CartProvider. Wrap the parent component in <AppProvider> to fix this.");return e}var B=a(7),k=a.n(B),U=a(14),C="http://hrapp.local:8080/api/v1/";function F(){return Object(m.jsx)("h1",{children:"Page not found."})}function P(){var e=M().deptState,t=Object(O.a)({},e).departments;console.log(t);var a=function(e){var t=Object(c.useRef)(!1),a=Object(c.useState)(null),r=Object(x.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)(null),l=Object(x.a)(i,2),o=l[0],d=l[1],j=Object(c.useState)(!0),b=Object(x.a)(j,2),p=b[0],m=b[1];return Object(c.useEffect)((function(){function a(){return(a=Object(U.a)(k.a.mark((function a(){var r,n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(C+e);case 3:if(!(r=a.sent).ok){a.next=11;break}return a.next=7,r.json();case 7:n=a.sent,t.current&&s(n),a.next=12;break;case 11:throw r;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),t.current&&d(a.t0);case 17:return a.prev=17,t.current&&m(!1),a.finish(17);case 20:case"end":return a.stop()}}),a,null,[[0,14,17,20]])})))).apply(this,arguments)}return t.current=!0,function(){a.apply(this,arguments)}(),function(){return t.current=!1}}),[e]),{data:n,error:o,loading:p}}("reports"),r=a.data,n=a.loading,s=a.error;if(console.log(r),n)return Object(m.jsx)(S,{});if(!r)return Object(m.jsx)(F,{});if(s)throw s;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"py-4",children:[Object(m.jsx)("h3",{children:"Department with Highest Salary"}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{className:"thead-dark",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"#"}),Object(m.jsx)("th",{scope:"col",children:"Department Name"}),Object(m.jsx)("th",{scope:"col",children:"Salary"})]})}),Object(m.jsx)("tbody",{children:r.data.deptWithHighSal.map((function(e,t){var a;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.deptName}),Object(m.jsx)("td",{children:null!==(a=e.salary)&&void 0!==a?a:0})]},t)}))})]}),Object(m.jsx)("h3",{children:"Employee Earning more than 50k "}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{className:"thead-dark",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"#"}),Object(m.jsx)("th",{scope:"col",children:"Department Name"}),Object(m.jsx)("th",{scope:"col",children:"Employee Count"})]})}),Object(m.jsx)("tbody",{children:r.data.deptWithEmpEarningMoreThan50.map((function(e,a){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:a+1}),Object(m.jsx)("td",{children:t.find((function(t){return t.deptNo===e.deptNo})).deptName}),Object(m.jsx)("td",{children:e.empCount})]},a)}))})]})]})})})}var L=a(18),q="http://hrapp.local:8080/api/v1/";function J(e){return A.apply(this,arguments)}function A(){return(A=Object(U.a)(k.a.mark((function e(t){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.employee,r=t.requestMethod,e.next=3,fetch(q+"employee",{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return H.apply(this,arguments)}function H(){return(H=Object(U.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q+"employee",{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"empNo="+t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=a(45),W=a.n(R),Z={IDLE:"IDLE",SUBMITTING:"SUBMITTING",SUBMITTED:"SUBMITTED",COMPLETED:"COMPLETED"},$=a(184),_=(a(49),a(94),{firstName:"",lastName:"",email:"",phoneNumber:"",hireDate:null,birthDate:null,designation:"",salary:"",deptNo:""});function z(e){var t=Object(h.g)().id,a=M(),r=a.empDispatch,n=a.empState,s=a.deptState,i=Object(O.a)(Object(O.a)({},n),s),l=i.employees,o=i.departments,d=Object(c.useState)(Z.IDLE),j=Object(x.a)(d,2),b=j[0],p=j[1],u=Object(c.useState)(function(){var e;return null!==(e=l.find((function(e){return e.empNo===t})))&&void 0!==e?e:_}()),f=Object(x.a)(u,2),N=f[0],v=f[1],y=Object(c.useState)(null),g=Object(x.a)(y,2),D=g[0],S=g[1],T=Object(c.useState)({}),E=Object(x.a)(T,2),I=E[0],w=E[1],B=Object(h.f)(),C=function(e){var t={};e.firstName||(t.firstName="First Name is required");e.lastName||(t.lastName="Last Name is required");e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required";e.phoneNumber?!0===isNaN(e.phoneNumber)&&(t.phoneNumber="Please enter number."):t.phoneNumber="Phone Number is required";e.hireDate||(t.hireDate="Hire Date is required");e.birthDate||(t.birthDate="Birth Date is required");e.designation||(t.designation="Designation is required");e.salary||(t.salary="Salary is required");e.deptNo||(t.deptNo="Department is required");return t}(N),P=0===Object.keys(C).length;function q(e,t){v((function(a){return Object(O.a)(Object(O.a)({},a),{},Object(L.a)({},e,t))}))}function A(e){e.persist(),q(e.target.id,e.target.value)}function G(e,t){q(e,t)}function H(e){e.persist(),w((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(L.a)({},e.target.id,!0))}))}function R(){return(R=Object(U.a)(k.a.mark((function e(a){var n,c,s,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),p(Z.SUBMITTING),!P){e.next=22;break}return e.prev=3,n=t?"PUT":"POST",c=t?"update":"empty",console.log(N),console.log(n),e.next=10,J({employee:N,requestMethod:n});case 10:return s=e.sent,e.next=13,s.json();case 13:i=e.sent,s.ok&&i.success&&(p(Z.COMPLETED),r({type:c,payload:N}),B.push("/employees")),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),S(e.t0);case 20:e.next=23;break;case 22:p(Z.SUBMITTED);case 23:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}if(!o)return Object(m.jsx)(F,{});if(t&&!N)return Object(m.jsx)(F,{});if(D)throw D;return b===Z.COMPLETED?Object(m.jsx)("h1",{children:"Employee was created Successfully!"}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"mx-auto shadow p-5 box",children:[Object(m.jsx)("h2",{children:"".concat(void 0===t?"Add":"Update"," an Employee")}),Object(m.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return R.apply(this,arguments)},children:[Object(m.jsxs)("div",{className:"form-row",children:[Object(m.jsxs)("div",{className:"form-group col-md-6",children:[Object(m.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(m.jsx)("input",{id:"firstName",type:"text",className:"form-control "+(I.firstName||b===Z.SUBMITTED?C.firstName?"is-invalid":"is-valid":""),value:N.firstName,onBlur:H,onChange:A}),Object(m.jsx)("p",{role:"alert",children:(I.firstName||b===Z.SUBMITTED)&&C.firstName})]}),Object(m.jsxs)("div",{className:"form-group col-md-6",children:[Object(m.jsx)("label",{htmlFor:"lastName",className:"last-name",children:"Last Name"}),Object(m.jsx)("input",{id:"lastName",type:"text",className:"form-control "+(I.lastName||b===Z.SUBMITTED?C.lastName?"is-invalid":"is-valid":""),value:N.lastName,onBlur:H,onChange:A}),Object(m.jsx)("p",{role:"alert",children:(I.lastName||b===Z.SUBMITTED)&&C.lastName})]}),Object(m.jsxs)("div",{className:"form-group col-md-6",children:[Object(m.jsx)("label",{htmlFor:"email",className:"email",children:"Email"}),Object(m.jsx)("input",{id:"email",type:"text",className:"form-control "+(I.email||b===Z.SUBMITTED?C.email?"is-invalid":"is-valid":""),value:N.email,onBlur:H,onChange:A}),Object(m.jsx)("p",{role:"alert",children:(I.email||b===Z.SUBMITTED)&&C.email})]}),Object(m.jsxs)("div",{className:"form-group col-md-6",children:[Object(m.jsx)("label",{htmlFor:"phoneNumber",className:"phone-number",children:"Phone Number"}),Object(m.jsx)("input",{id:"phoneNumber",type:"text",className:"form-control "+(I.phoneNumber||b===Z.SUBMITTED?C.phoneNumber?"is-invalid":"is-valid":""),value:N.phoneNumber,onBlur:H,onChange:A}),Object(m.jsx)("p",{role:"alert",children:(I.phoneNumber||b===Z.SUBMITTED)&&C.phoneNumber})]}),Object(m.jsxs)("div",{className:"form-group col-md-6",children:[Object(m.jsx)("label",{htmlFor:"birthDate",className:"birth-date",children:"Birth Date"}),Object(m.jsx)(W.a,{selected:N.birthDate?new Date(N.birthDate):null,value:Object($.a)(N.birthDate),className:"form-control "+(I.birthDate||b===Z.SUBMITTED?C.birthDate?"is-invalid":"is-valid":""),id:"birthDate",onBlur:H,onChange:function(e){return G("birthDate",e)},dateFormat:"MM/dd/yyyy"}),Object(m.jsx)("p",{role:"alert",children:(I.birthDate||b===Z.SUBMITTED)&&C.birthDate})]}),Object(m.jsxs)("div",{className:"form-group col-md-6",children:[Object(m.jsx)("label",{htmlFor:"deptNo",className:"dept-no",children:"Department"}),Object(m.jsxs)("select",{id:"deptNo",className:"form-control "+(I.deptNo||b===Z.SUBMITTED?C.deptNo?"is-invalid":"is-valid":""),value:N.deptNo,onBlur:H,onChange:A,children:[Object(m.jsx)("option",{value:"",children:" Which Department? "}),o.map((function(e){return Object(m.jsx)("option",{value:e.deptNo,children:e.deptName},e.deptNo)}))]}),Object(m.jsx)("p",{role:"alert",children:(I.deptNo||b===Z.SUBMITTED)&&C.deptNo})]}),Object(m.jsxs)("div",{className:"form-group col-md-4",children:[Object(m.jsx)("label",{htmlFor:"designation",className:"designation",children:"Designation"}),Object(m.jsx)("input",{id:"designation",type:"text",className:"form-control "+(I.designation||b===Z.SUBMITTED?C.designation?"is-invalid":"is-valid":""),value:N.designation,onBlur:H,onChange:A}),Object(m.jsx)("p",{role:"alert",children:(I.designation||b===Z.SUBMITTED)&&C.designation})]}),Object(m.jsxs)("div",{className:"form-group col-md-4",children:[Object(m.jsx)("label",{htmlFor:"hireDate",className:"hire-date",children:"Hire Date"}),Object(m.jsx)(W.a,{selected:N.hireDate?new Date(N.hireDate):null,value:Object($.a)(N.hireDate),className:"form-control "+(I.hireDate||b===Z.SUBMITTED?C.hireDate?"is-invalid":"is-valid":""),id:"hireDate",onBlur:H,onChange:function(e){return G("hireDate",e)},dateFormat:"MM/dd/yyyy"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{role:"alert",children:(I.hireDate||b===Z.SUBMITTED)&&C.hireDate})]}),Object(m.jsxs)("div",{className:"form-group col-md-4",children:[Object(m.jsx)("label",{htmlFor:"salary",className:"salary",children:"Salary"}),Object(m.jsx)("input",{id:"salary",type:"text",className:"form-control "+(I.salary||b===Z.SUBMITTED?C.salary?"is-invalid":"is-valid":""),value:N.salary,onBlur:H,onChange:A}),Object(m.jsx)("p",{role:"alert",children:(I.salary||b===Z.SUBMITTED)&&C.salary})]})]}),Object(m.jsxs)("button",{disabled:b===Z.SUBMITTING,className:"btn btn-primary",children:[b===Z.SUBMITTING&&Object(m.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Submit"]})]})]})})})}var K=a(181),Q=a(182),V=a(183);function X(){var e=M(),t=e.empDispatch,a=e.empState;console.log(a);var r=Object(c.useState)(!1),n=Object(x.a)(r,2),s=n[0],i=n[1],l=Object(O.a)({},a).employees,d=function(){var e=Object(U.a)(k.a.mark((function e(a){var r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(a),e.prev=1,e.next=4,G(a);case 4:return r=e.sent,e.next=7,r.json();case 7:throw n=e.sent,console.log(n),r.ok&&n.success&&t({type:"delete",payload:a}),r;case 13:e.prev=13,e.t0=e.catch(1),i(!1);case 16:return e.prev=16,i(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return l?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"py-4",children:[Object(m.jsx)("h1",{children:"Manage Employees"}),Object(m.jsxs)("table",{className:"table border shadow",children:[Object(m.jsx)("thead",{className:"thead-dark",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"#"}),Object(m.jsx)("th",{scope:"col",children:"First Name"}),Object(m.jsx)("th",{scope:"col",children:"Last Name"}),Object(m.jsx)("th",{scope:"col",children:"Email"}),Object(m.jsx)("th",{scope:"col",children:"Action"})]})}),Object(m.jsx)("tbody",{children:l.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:t+1}),Object(m.jsx)("td",{children:e.firstName}),Object(m.jsx)("td",{children:e.lastName}),Object(m.jsx)("td",{children:e.email}),Object(m.jsxs)("td",{children:[Object(m.jsx)(o.b,{disabled:s,className:"btn btn-outline-primary mr-2",to:"/employee/view/".concat(e.empNo),children:Object(m.jsx)(K.a,{})}),Object(m.jsx)(o.b,{disabled:s,className:"btn btn-outline-warning mr-2",to:"/employee/edit/".concat(e.empNo),children:Object(m.jsx)(Q.a,{})}),!s&&Object(m.jsx)(o.b,{className:"btn btn-outline-danger",onClick:function(){return d(e.empNo)},to:"#",children:Object(m.jsx)(V.a,{})}),s===e.empNo&&Object(m.jsx)("div",{id:e.empNo,className:"spinner-border text-danger",role:"status",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})})]})]},t)}))})]})]})})}):Object(m.jsx)(F,{})}var Y="http://hrapp.local:8080/api/v1/";function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(U.a)(k.a.mark((function e(t){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.department,r=t.requestMethod,e.next=3,fetch(Y+"department",{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae={deptName:""};function re(){var e=Object(h.g)().id,t=M(),a=t.deptDispatch,r=t.deptState,n=Object(O.a)({},r).departments,s=Object(h.f)(),i=Object(c.useState)(Z.IDLE),l=Object(x.a)(i,2),o=l[0],d=l[1],j=Object(c.useState)(function(){var t;return null!==(t=n.find((function(t){return t.deptNo===e})))&&void 0!==t?t:ae}()),b=Object(x.a)(j,2),p=b[0],u=b[1],f=Object(c.useState)(null),N=Object(x.a)(f,2),v=N[0],y=N[1],g=Object(c.useState)({}),D=Object(x.a)(g,2),S=D[0],T=D[1],E=function(e){var t={};p.deptName||(t.deptName="Department Name is required");return t}(),I=0===Object.keys(E).length;function w(){return(w=Object(U.a)(k.a.mark((function t(r){var n,c,i,l;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),d(Z.SUBMITTING),!I){t.next=22;break}return t.prev=3,n=void 0===e?"POST":"PUT",c=void 0===e?"empty":"update",console.log("type"+c),console.log(n),t.next=10,ee({department:p,requestMethod:n});case 10:return i=t.sent,t.next=13,i.json();case 13:l=t.sent,i.ok&&l.success&&(d(Z.COMPLETED),a({type:c,payload:p}),s.push("/departments")),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),y(t.t0);case 20:t.next=23;break;case 22:d(Z.SUBMITTED);case 23:case"end":return t.stop()}}),t,null,[[3,17]])})))).apply(this,arguments)}if(!p)return Object(m.jsx)(F,{});if(v)throw v;return o===Z.COMPLETED?Object(m.jsx)("h1",{children:"Department was created Successfully!"}):(console.log(e),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"mx-auto shadow p-5 box",children:[Object(m.jsx)("h2",{children:"".concat(void 0===e?"Add":"Update"," Department")}),Object(m.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return w.apply(this,arguments)},children:[Object(m.jsx)("div",{className:"form-row",children:Object(m.jsxs)("div",{className:"form-group col-md-6",children:[Object(m.jsx)("label",{htmlFor:"firstName",children:"Department Name"}),Object(m.jsx)("input",{id:"deptName",type:"text",className:"form-control "+(S.deptName||o===Z.SUBMITTED?E.deptName?"is-invalid":"is-valid":""),value:p.deptName,onBlur:function(e){e.persist(),T((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(L.a)({},e.target.id,!0))}))},onChange:function(e){e.persist(),function(e,t){u((function(a){return Object(O.a)(Object(O.a)({},a),{},Object(L.a)({},e,t))}))}(e.target.id,e.target.value)}}),Object(m.jsx)("p",{role:"alert",children:(S.deptName||o===Z.SUBMITTED)&&E.deptName})]})}),Object(m.jsxs)("button",{disabled:o===Z.SUBMITTING,className:"btn btn-primary",children:[o===Z.SUBMITTING&&Object(m.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Submit"]})]})]})})}))}function ne(){var e=M().deptState,t=Object(O.a)({},e).departments;return console.log(t),t?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"py-3",children:[Object(m.jsx)("h1",{children:"Manage Employees"}),Object(m.jsxs)("table",{className:"table border shadow",children:[Object(m.jsx)("thead",{className:"thead-dark",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"#"}),Object(m.jsx)("th",{scope:"col",children:"Department Name"}),Object(m.jsx)("th",{scope:"col",children:"Action"})]})}),Object(m.jsx)("tbody",{children:t.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:t+1}),Object(m.jsx)("td",{children:e.deptName}),Object(m.jsx)("td",{children:Object(m.jsx)(o.b,{className:"btn btn-outline-warning mr-2",to:"/department/edit/".concat(e.deptNo),children:Object(m.jsx)(Q.a,{})})})]},t)}))})]})]})})}):Object(m.jsx)(F,{})}var ce=function(){var e=Object(h.g)().id,t=M(),a=t.empState,r=t.deptState,n=Object(O.a)(Object(O.a)({},a),r),c=n.employees,s=n.departments,i=c.find((function(t){return t.empNo===e})),l=s.find((function(e){return e.deptNo===i.deptNo}));return Object(m.jsxs)("div",{className:"container py-4",children:[Object(m.jsxs)("h1",{className:"display-4",children:["Employee Id: ",e]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("ul",{className:"list-group w-70",children:[Object(m.jsxs)("li",{className:"list-group-item",children:["First Name: ",i.firstName]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Last Name: ",i.lastName]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Email: ",i.email]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Phone Number: ",i.phoneNumber]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Birth Date: ",i.birthDate]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Hire Date: ",i.hireDate]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Department: ",l.deptName]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Designation: ",i.designation]}),Object(m.jsxs)("li",{className:"list-group-item",children:["Salary: ",i.salary]})]})]})};function se(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"content",children:Object(m.jsx)("main",{children:Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{exact:!0,path:"/",component:P}),Object(m.jsx)(h.a,{exact:!0,path:"/employees",render:function(e){return Object(m.jsx)(X,{})}}),Object(m.jsx)(h.a,{exact:!0,path:"/employee/view/:id",render:function(e){return Object(m.jsx)(ce,{})}}),Object(m.jsx)(h.a,{exact:!0,path:"/employee/add",render:function(e){return Object(m.jsx)(z,{})}}),Object(m.jsx)(h.a,{exact:!0,path:"/employee/edit/:id",render:function(e){return Object(m.jsx)(z,{})}}),Object(m.jsx)(h.a,{exact:!0,path:"/departments",render:function(e){return Object(m.jsx)(ne,{})}}),Object(m.jsx)(h.a,{exact:!0,path:"/department/add",render:function(e){return Object(m.jsx)(re,{})}}),Object(m.jsx)(h.a,{exact:!0,path:"/department/edit/:id",render:function(e){return Object(m.jsx)(re,{})}}),Object(m.jsx)(h.a,{render:function(e){return Object(m.jsx)(F,{})}})]})})})})}var ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};l.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(u,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(w,{children:Object(m.jsx)(se,{})})})})}),document.getElementById("root")),ie()},86:function(e,t,a){},94:function(e,t,a){}},[[178,1,2]]]);
//# sourceMappingURL=main.1b9674ee.chunk.js.map